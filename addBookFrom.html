<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Book Form</title>
    <link rel="stylesheet" href="AddBookForm.css">
</head>
<body>

<div class="add-book-form-container">
  <form id="add-book-form" class="add-book-form">
    <label for="bookId">
      Book ID:
      <input type="text" id="bookId" name="Book_id" required>
    </label>
    <br>
    <label for="bookTitle">
      Title:
      <input type="text" id="bookTitle" name="Book_title" required>
    </label>
    <br>
    <label for="bookAuthor">
      Author:
      <input type="text" id="bookAuthor" name="Book_author" required>
    </label>
    <br>
    <label for="bookEdition">
      Edition:
      <input type="text" id="bookEdition" name="Book_edition" required>
    </label>
    <br>
    <label for="categorised">
      Subject ID:
      <input type="text" id="categorised" name="categorised" required>
    </label>
    <br>
    <button type="button" onclick="handleFormSubmit()">Add Book</button>

    <!-- New buttons for delete and search -->
    <button type="button" onclick="handleDeleteBook(document.getElementById('bookId').value)">Delete Book</button>
    <button type="button" onclick="handleSearchBook(document.getElementById('bookTitle').value)">Search Book</button>
  </form>
</div>

<script>
  function handleFormSubmit() {
    const bookData = {
      Book_id: document.getElementById('bookId').value,
      Book_title: document.getElementById('bookTitle').value,
      Book_author: document.getElementById('bookAuthor').value,
      Book_edition: document.getElementById('bookEdition').value,
      categorised: document.getElementById('categorised').value,
    };

    // Send a POST request to add a book
    fetch('http://your-server-url.com/add-book', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(bookData),
    })
    .then(response => response.json())
    .then(data => {
      console.log('Book added successfully:', data);
      // You can perform additional actions here if needed
    })
    .catch(error => {
      console.error('Error adding book:', error);
    });
  }

  function handleDeleteBook(bookId) {
    // Send a DELETE request to delete a book by ID
    fetch(`http://your-server-url.com/delete-book/${bookId}`, {
      method: 'DELETE',
    })
    .then(response => response.json())
    .then(data => {
      console.log('Book deleted successfully:', data);
      // You can perform additional actions here if needed
    })
    .catch(error => {
      console.error('Error deleting book:', error);
    });
  }

  function handleSearchBook(bookName) {
    // Send a GET request to search for books by name
    fetch(`http://your-server-url.com/search-book/${bookName}`)
    .then(response => response.json())
    .then(data => {
      if (data.error) {
        console.error('Error searching for books:', data.error);
      } else {
        console.log('Books found:', data);
        // You can display the search results or perform additional actions here
      }
    })
    .catch(error => {
      console.error('Error searching for books:', error);
    });
  }
</script>

</body>
</html>
