<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Book Form</title>
    <link rel="stylesheet" href="AddBookForm.css">
</head>
<body>

<div class="add-book-form-container">
  <form id="add-book-form" class="add-book-form">
    <label for="bookId">
      Book ID:
      <input type="text" id="bookId" name="Book_id" required>
    </label>
    <br>
    <label for="bookTitle">
      Title:
      <input type="text" id="bookTitle" name="Book_title" required>
    </label>
    <br>
    <label for="bookAuthor">
      Author:
      <input type="text" id="bookAuthor" name="Book_author" required>
    </label>
    <br>
    <label for="bookEdition">
      Edition:
      <input type="text" id="bookEdition" name="Book_edition" required>
    </label>
    <br>
    <label for="categorised">
      Subject ID:
      <input type="text" id="categorised" name="categorised" required>
    </label>
    <br>
    <button type="button" onclick="handleFormSubmit()">Add Book</button>

    <!-- New buttons for delete and search -->
    <button type="button" onclick="handleDeleteBook(document.getElementById('bookId').value)">Delete Book</button>
    <button type="button" onclick="handleSearchBook(document.getElementById('bookTitle').value)">Search Book</button>
  </form>
</div>

<script>
  function handleFormSubmit() {
    const bookData = {
      Book_id: document.getElementById('bookId').value,
      Book_title: document.getElementById('bookTitle').value,
      Book_author: document.getElementById('bookAuthor').value,
      Book_edition: document.getElementById('bookEdition').value,
      categorised: document.getElementById('categorised').value,
    };
     console.log(bookData);
    // Send a POST request to add a book
    fetch('http://localhost:3000/add-book', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(bookData),
    })
    .then(response => response.json())
    .then(data => {
      console.log('Book added successfully:', data);
      // You can perform additional actions here if needed
    })
    .catch(error => {
      console.error('Error adding book:', error);
    });
  }

  function handleDeleteBook(bookId) {
    // Send a DELETE request to delete a book by ID
    fetch(`http://localhost:3000/delete-book/${bookId}`, {
      method: 'DELETE',
    })
    .then(response => response.json())
    .then(data => {
      console.log('Book deleted successfully:', data);
      // You can perform additional actions here if needed
    })
    .catch(error => {
      console.error('Error deleting book:', error);
    });
  }

  function handleSearchBook(bookName) {
    // Send a GET request to search for books by name
    fetch(`http://localhost:3000/search-book/${bookName}`)
    .then(response => response.json())
    .then(data => {
      if (data.error) {
        console.error('Error searching for books:', data.error);
      } else {
        console.log('Books found:', data);
        // You can display the search results or perform additional actions here
      }
    })
    .catch(error => {
      console.error('Error searching for books:', error);
    });
  }
</script>

</body>
</html>











<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ... your existing head content ... -->
    <style>
        body {
            display: flex;
            font-family: Arial, sans-serif;
        }

        .sidebar {
            height: 100vh;
            width: 200px;
            background-color: #333;
            color: white;
            padding-top: 20px;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        }

        .sidebar a {
            padding: 10px;
            display: block;
            text-decoration: none;
            color: white;
            margin-bottom: 10px;
            transition: background-color 0.3s;
        }

        .sidebar a:hover {
            background-color: #555;
        }

        .content {
            flex: 1;
            padding: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #333;
            color: white;
        }
    </style>
</head>
<body>

<div class="sidebar">
    <a href="#" onclick="showInsertForm()">Insert</a>
    <a href="#" onclick="showDeleteForm()">Delete</a>
    <a href="#" onclick="showSearchForm()">Search</a>
</div>

<div class="content">
    <!-- Your existing form and script -->
    <!-- ... -->

    <div id="searchResults" style="display: none;">
        <h2>Search Results</h2>
        <table id="resultTable">
            <thead>
                <tr>
                    <th>Book ID</th>
                    <th>Title</th>
                    <th>Author</th>
                    <th>Edition</th>
                    <th>Subject ID</th>
                </tr>
            </thead>
            <tbody id="resultTableBody"></tbody>
        </table>
    </div>
</div>

<script>
    // Add your existing functions here

    function showInsertForm() {
        document.getElementById('searchResults').style.display = 'none';
        // You can add more logic to show the insert form
    }

    function showDeleteForm() {
        document.getElementById('searchResults').style.display = 'none';
        // You can add more logic to show the delete form
    }

    function showSearchForm() {
        document.getElementById('searchResults').style.display = 'block';
        // You can add more logic to show the search form
    }
</script>

</body>
</html>
